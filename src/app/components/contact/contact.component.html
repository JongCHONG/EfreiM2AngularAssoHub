<form
  [formGroup]="contactForm"
  (ngSubmit)="onSubmit()"
  class="p-4 border rounded shadow-sm bg-light d-flex flex-column"
>
  <h2 class="mb-4 text-center">Contacter</h2>
  <div class="mb-3">
    <label for="email" class="form-label">Email : </label>
    <input
      type="email"
      id="email"
      placeholder="Email du contact"
      formControlName="email"
      class="form-control"
      [readOnly]="true"
      [ngClass]="{
        'is-invalid':
          contactForm.get('email')?.invalid &&
          contactForm.get('email')?.touched,
        'is-valid':
          contactForm.get('email')?.valid && contactForm.get('email')?.touched
      }"
    />
  </div>
  <div class="mb-3">
    <label for="contentObject" class="form-label">Objet : </label>
    <input
      type="text"
      id="object"
      placeholder="Objet du mail"
      formControlName="object"
      class="form-control"
      [ngClass]="{
        'is-invalid':
          contactForm.get('object')?.invalid &&
          contactForm.get('object')?.touched,
        'is-valid':
          contactForm.get('object')?.valid && contactForm.get('object')?.touched
      }"
    />
    <div
      *ngIf="
        contactForm.get('object')?.invalid && contactForm.get('object')?.touched
      "
      class="text-danger"
    >
      <p class="mt-1" *ngIf="contactForm.get('object')?.errors?.['required']">
        L'objet du message est requis.
      </p>
    </div>
  </div>
  <div class="mb-3">
    <label for="contentEmail" class="form-label">Contenu : </label>
    <textarea
      name="contentEmail"
      id="contentEmail"
      placeholder="Ecrivez votre message ..."
      formControlName="contentEmail"
      class="form-control"
      rows="3"
      [ngClass]="{
        'is-invalid':
          contactForm.get('contentEmail')?.invalid &&
          contactForm.get('contentEmail')?.touched,
        'is-valid':
          contactForm.get('contentEmail')?.valid &&
          contactForm.get('contentEmail')?.touched
      }"
    ></textarea>
    <div
      *ngIf="
        contactForm.get('contentEmail')?.invalid &&
        contactForm.get('contentEmail')?.touched
      "
      class="text-danger"
    >
      <p class="mt-1" *ngIf="contactForm.get('contentEmail')?.errors?.['required']">
        Le contenu du message est requis.
      </p>
    </div>
  </div>
  <div class="d-flex justify-content-between">
    <button
      type="submit"
      class="btn btn-success w-20 p-2"
      [disabled]="contactForm.invalid"
    >
      Envoyer
    </button>
    <button type="button" class="btn btn-secondary" (click)="onCancel()">
      Fermer
    </button>
  </div>
</form>
